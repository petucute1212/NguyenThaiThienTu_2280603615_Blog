<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>Hi·ªÉu r√µ h∆°n v·ªÅ Socket v√† giao th·ª©c TCP/UDP trong Java</title>
    <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
    <header>
        <h1>Hi·ªÉu r√µ h∆°n v·ªÅ Socket v√† giao th·ª©c TCP/UDP trong Java</h1>
        <nav><a href="../index.html">‚á† Tr·ªü v·ªÅ trang ch·ªß</a></nav>
    </header>
    <main>
        <p style="color: #d4af37; font-size: 1.1em; margin-bottom: 25px;"><b>üìÖ Ng√†y ƒëƒÉng:</b> 20/10/2025</p>

        <section>
            <h2>1. Socket - N·ªÅn t·∫£ng c·ªßa l·∫≠p tr√¨nh m·∫°ng</h2>
            <p>
                <b>Socket</b> l√† giao di·ªán ph·∫ßn m·ªÅm cho ph√©p hai ch∆∞∆°ng tr√¨nh ‚Äî th∆∞·ªùng l√† tr√™n hai m√°y t√≠nh kh√°c nhau ‚Äî 
                trao ƒë·ªïi d·ªØ li·ªáu qua m·∫°ng. Trong Java, socket ƒë√≥ng vai tr√≤ nh∆∞ "ƒë∆∞·ªùng ·ªëng" k·∫øt n·ªëi gi·ªØa <b>Client</b> v√† <b>Server</b>.
            </p>
            
            <h3>1.1. C·∫•u tr√∫c c·ªßa Socket</h3>
            <p>
                M·ªôt socket ƒë∆∞·ª£c ƒë·ªãnh danh b·ªüi hai y·∫øu t·ªë ch√≠nh:
            </p>
            <ul>
                <li><b>ƒê·ªãa ch·ªâ IP:</b> ƒê·ªãnh danh duy nh·∫•t c·ªßa m√°y t√≠nh tr√™n m·∫°ng (v√≠ d·ª•: 192.168.1.5)</li>
                <li><b>Port number (S·ªë c·ªïng):</b> ƒê·ªãnh danh d·ªãch v·ª• c·ª• th·ªÉ tr√™n m√°y ƒë√≥ (v√≠ d·ª•: 8080, 3306, 5432)</li>
            </ul>
            <p>
                V√≠ d·ª•: <code>192.168.1.5:8080</code> nghƒ©a l√† k·∫øt n·ªëi ƒë·∫øn m√°y c√≥ IP 192.168.1.5 ·ªü port 8080.
            </p>
            
            <h3>1.2. C√°c lo·∫°i Socket trong Java</h3>
            <p>Java cung c·∫•p c√°c lo·∫°i socket sau:</p>
            <ul>
                <li><b>Stream Socket (Socket):</b> D√πng TCP, ƒë·∫£m b·∫£o ƒë·ªô tin c·∫≠y, ph√π h·ª£p cho d·ªØ li·ªáu quan tr·ªçng</li>
                <li><b>Datagram Socket:</b> D√πng UDP, nhanh h∆°n nh∆∞ng kh√¥ng ƒë·∫£m b·∫£o, ph√π h·ª£p cho real-time</li>
                <li><b>Server Socket:</b> T·∫°o server l·∫Øng nghe k·∫øt n·ªëi t·ª´ client</li>
            </ul>
            
            <h3>1.3. Kh√°i ni·ªám Port</h3>
            <p>
                Port l√† s·ªë c·ªïng t·ª´ 0 ƒë·∫øn 65535, ƒë∆∞·ª£c ph√¢n th√†nh:
            </p>
            <ul>
                <li><b>Well-known ports (0-1023):</b> D√†nh cho d·ªãch v·ª• h·ªá th·ªëng (HTTP: 80, HTTPS: 443, FTP: 21)</li>
                <li><b>Registered ports (1024-49151):</b> Ph·∫£i ƒëƒÉng k√Ω v·ªõi IANA (MySQL: 3306, PostgreSQL: 5432)</li>
                <li><b>Dynamic/Private ports (49152-65535):</b> D√πng cho client t·∫°m th·ªùi</li>
            </ul>
        </section>

        <section>
            <h2>2. Giao th·ª©c TCP v√† UDP - So s√°nh chi ti·∫øt</h2>
            <p>
                Hai giao th·ª©c ph·ªï bi·∫øn nh·∫•t m√† socket Java h·ªó tr·ª£ l√† <b>TCP</b> v√† <b>UDP</b>.  
                M·ªói lo·∫°i c√≥ ƒë·∫∑c tr∆∞ng v√† m·ª•c ƒë√≠ch kh√°c nhau. Vi·ªác hi·ªÉu r√µ s·ª± kh√°c bi·ªát gi√∫p b·∫°n ch·ªçn ƒë√∫ng giao th·ª©c cho t·ª´ng ·ª©ng d·ª•ng.
            </p>
            
            <h3>2.1. TCP (Transmission Control Protocol)</h3>
            <p>
                TCP l√† giao th·ª©c <b>h∆∞·ªõng k·∫øt n·ªëi</b> v√† <b>ƒë√°ng tin c·∫≠y</b>. Tr∆∞·ªõc khi truy·ªÅn d·ªØ li·ªáu, TCP ph·∫£i thi·∫øt l·∫≠p k·∫øt n·ªëi 3-way handshake.
            </p>
            <p><b>ƒê·∫∑c ƒëi·ªÉm c·ªßa TCP:</b></p>
            <ul>
                <li><b>Connection-oriented:</b> Ph·∫£i thi·∫øt l·∫≠p k·∫øt n·ªëi tr∆∞·ªõc khi truy·ªÅn d·ªØ li·ªáu</li>
                <li><b>Reliable:</b> ƒê·∫£m b·∫£o d·ªØ li·ªáu ƒë·∫øn ƒë√∫ng, ƒë√∫ng th·ª© t·ª±, kh√¥ng b·ªã m·∫•t</li>
                <li><b>Flow control:</b> ƒêi·ªÅu ch·ªânh t·ªëc ƒë·ªô truy·ªÅn d·ªØ li·ªáu theo kh·∫£ nƒÉng nh·∫≠n c·ªßa b√™n nh·∫≠n</li>
                <li><b>Congestion control:</b> Tr√°nh t·∫Øc ngh·∫Ωn m·∫°ng b·∫±ng c√°ch gi·∫£m t·ªëc ƒë·ªô khi ph√°t hi·ªán congestion</li>
                <li><b>Full-duplex:</b> C√≥ th·ªÉ g·ª≠i v√† nh·∫≠n ƒë·ªìng th·ªùi</li>
                <li><b>Overhead l·ªõn:</b> Nhi·ªÅu header bytes v√† c∆° ch·∫ø ki·ªÉm tra l√†m tƒÉng ƒë·ªô tr·ªÖ</li>
            </ul>
            
            <p><b>3-Way Handshake:</b></p>
            <ol>
                <li>Client g·ª≠i SYN (synchronize) ƒë·∫øn server</li>
                <li>Server ph·∫£n h·ªìi SYN-ACK (synchronize-acknowledge)</li>
                <li>Client g·ª≠i ACK (acknowledge) x√°c nh·∫≠n</li>
            </ol>
            
            <h3>2.2. UDP (User Datagram Protocol)</h3>
            <p>
                UDP l√† giao th·ª©c <b>kh√¥ng h∆∞·ªõng k·∫øt n·ªëi</b> v√† <b>nhanh h∆°n</b>. N√≥ g·ª≠i t·ª´ng packet ƒë·ªôc l·∫≠p, kh√¥ng c·∫ßn thi·∫øt l·∫≠p k·∫øt n·ªëi.
            </p>
            <p><b>ƒê·∫∑c ƒëi·ªÉm c·ªßa UDP:</b></p>
            <ul>
                <li><b>Connectionless:</b> Kh√¥ng c·∫ßn thi·∫øt l·∫≠p k·∫øt n·ªëi tr∆∞·ªõc, g·ª≠i packet ngay</li>
                <li><b>Unreliable:</b> Kh√¥ng ƒë·∫£m b·∫£o packet ƒë·∫øn ƒë√∫ng, c√≥ th·ªÉ m·∫•t ho·∫∑c sai th·ª© t·ª±</li>
                <li><b>Fast:</b> Overhead nh·ªè, ƒë·ªô tr·ªÖ th·∫•p</li>
                <li><b>No flow control:</b> G·ª≠i d·ªØ li·ªáu li√™n t·ª•c kh√¥ng quan t√¢m ƒë·∫øn kh·∫£ nƒÉng nh·∫≠n</li>
                <li><b>No congestion control:</b> C√≥ th·ªÉ g√¢y t·∫Øc ngh·∫Ωn m·∫°ng n·∫øu g·ª≠i qu√° nhi·ªÅu</li>
                <li><b>Simple:</b> Header ch·ªâ 8 bytes (so v·ªõi 20-60 bytes c·ªßa TCP)</li>
            </ul>
            
            <h3>2.3. B·∫£ng so s√°nh chi ti·∫øt</h3>
            <table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%;">
                <tr style="background: rgba(148, 140, 232, 0.3);">
                    <th>ƒê·∫∑c ƒëi·ªÉm</th>
                    <th>TCP (Transmission Control Protocol)</th>
                    <th>UDP (User Datagram Protocol)</th>
                </tr>
                <tr>
                    <td><b>ƒê·ªô tin c·∫≠y</b></td>
                    <td>Cao ‚Äì ƒë·∫£m b·∫£o g√≥i tin ƒë·∫øn n∆°i, ƒë√∫ng th·ª© t·ª±</td>
                    <td>Th·∫•p ‚Äì kh√¥ng ƒë·∫£m b·∫£o g√≥i tin ƒë·∫øn</td>
                </tr>
                <tr>
                    <td><b>T·ªëc ƒë·ªô</b></td>
                    <td>Ch·∫≠m h∆°n do c·∫ßn x√°c nh·∫≠n, ki·ªÉm tra l·ªói</td>
                    <td>Nhanh h∆°n do kh√¥ng c√≥ x√°c nh·∫≠n</td>
                </tr>
                <tr>
                    <td><b>Overhead</b></td>
                    <td>20-60 bytes header</td>
                    <td>8 bytes header</td>
                </tr>
                <tr>
                    <td><b>K·∫øt n·ªëi</b></td>
                    <td>Connection-oriented (3-way handshake)</td>
                    <td>Connectionless (g·ª≠i ngay)</td>
                </tr>
                <tr>
                    <td><b>Flow Control</b></td>
                    <td>C√≥ - ƒëi·ªÅu ch·ªânh t·ªëc ƒë·ªô</td>
                    <td>Kh√¥ng</td>
                </tr>
                <tr>
                    <td><b>Error Recovery</b></td>
                    <td>C√≥ - retransmission</td>
                    <td>Kh√¥ng</td>
                </tr>
                <tr>
                    <td><b>·ª®ng d·ª•ng ph√π h·ª£p</b></td>
                    <td>Web (HTTP), email (SMTP), chat, FTP, SSH</td>
                    <td>Game online, video streaming, VoIP, DNS</td>
                </tr>
            </table>
            
            <p>
                <b>Khi n√†o d√πng TCP:</b> Khi d·ªØ li·ªáu ph·∫£i ƒë·∫£m b·∫£o ƒë·∫øn ƒë√∫ng v√† ƒë√∫ng th·ª© t·ª± (chat, file transfer, web)<br>
                <b>Khi n√†o d√πng UDP:</b> Khi t·ªëc ƒë·ªô quan tr·ªçng h∆°n ƒë·ªô tin c·∫≠y (game, streaming, real-time monitoring)
            </p>
        </section>

        <section>
            <h2>3. Socket trong Java ho·∫°t ƒë·ªông th·∫ø n√†o?</h2>
            <p>
                Java cung c·∫•p hai l·ªõp ch√≠nh ƒë·ªÉ l√†m vi·ªác v·ªõi Socket:
            </p>
            <ul>
                <li><b>ServerSocket</b>: t·∫°o ra m·ªôt ‚Äúc·ªïng‚Äù ƒë·ªÉ l·∫Øng nghe y√™u c·∫ßu t·ª´ client (TCP).</li>
                <li><b>Socket</b>: d√πng ƒë·ªÉ k·∫øt n·ªëi v√† trao ƒë·ªïi d·ªØ li·ªáu v·ªõi server (TCP).</li>
            </ul>
            <p>
                V·ªõi UDP, Java cung c·∫•p hai l·ªõp kh√°c:
            </p>
            <ul>
                <li><b>DatagramSocket</b>: ƒë·ªÉ g·ª≠i v√† nh·∫≠n g√≥i d·ªØ li·ªáu (datagram).</li>
                <li><b>DatagramPacket</b>: ƒë·∫°i di·ªán cho m·ªôt g√≥i tin UDP c·ª• th·ªÉ.</li>
            </ul>
        </section>

        <section>
            <h2>4. V√≠ d·ª• minh h·ªça TCP v√† UDP</h2>

            <h3>4.1. TCP ‚Äì K·∫øt n·ªëi ·ªïn ƒë·ªãnh</h3>
            <pre><code>
// TCPServer.java
import java.io.*;
import java.net.*;

public class TCPServer {
    public static void main(String[] args) throws IOException {
        ServerSocket server = new ServerSocket(8888);
        System.out.println("Server ƒëang ch·ªù k·∫øt n·ªëi...");

        Socket socket = server.accept();
        BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));
        PrintWriter out = new PrintWriter(socket.getOutputStream(), true);

        String message = in.readLine();
        System.out.println("Client g·ª≠i: " + message);
        out.println("ƒê√£ nh·∫≠n ƒë∆∞·ª£c: " + message);

        socket.close();
        server.close();
    }
}
            </code></pre>

            <h3>4.2. UDP ‚Äì G·ª≠i g√≥i d·ªØ li·ªáu nhanh</h3>
            <pre><code>
// UDPServer.java
import java.net.*;

public class UDPServer {
    public static void main(String[] args) throws Exception {
        DatagramSocket socket = new DatagramSocket(9999);
        byte[] buffer = new byte[1024];
        DatagramPacket packet = new DatagramPacket(buffer, buffer.length);
        socket.receive(packet);
        String msg = new String(packet.getData(), 0, packet.getLength());
        System.out.println("Nh·∫≠n t·ª´ client: " + msg);
        socket.close();
    }
}
            </code></pre>
            <p>
                UDP kh√¥ng y√™u c·∫ßu k·∫øt n·ªëi l√¢u d√†i. N√≥ ch·ªâ g·ª≠i t·ª´ng g√≥i d·ªØ li·ªáu, n√™n nhanh nh∆∞ng c√≥ th·ªÉ m·∫•t m√°t g√≥i tin n·∫øu m·∫°ng y·∫øu.
            </p>
        </section>

        <section>
            <h2>5. T·ªïng k·∫øt</h2>
            <p>
                Socket l√† c·∫ßu n·ªëi gi·ªØa hai ch∆∞∆°ng tr√¨nh trong m·∫°ng.  
                <b>TCP</b> ph√π h·ª£p v·ªõi ·ª©ng d·ª•ng c·∫ßn ƒë·ªô tin c·∫≠y, trong khi <b>UDP</b> l√Ω t∆∞·ªüng cho ·ª©ng d·ª•ng y√™u c·∫ßu t·ªëc ƒë·ªô.  
                Hi·ªÉu r√µ hai giao th·ª©c n√†y l√† b∆∞·ªõc ƒë·∫ßu ti√™n ƒë·ªÉ x√¢y d·ª±ng ·ª©ng d·ª•ng m·∫°ng hi·ªáu qu·∫£ trong Java.
            </p>
            <p>
                ·ªû b√†i ti·∫øp theo, ch√∫ng ta s·∫Ω h·ªçc c√°ch x√¢y d·ª±ng <b>Server ƒëa lu·ªìng (Multi-threaded Server)</b> ‚Äî cho ph√©p nhi·ªÅu client k·∫øt n·ªëi c√πng l√∫c.
            </p>
        </section>
    </main>
    <footer>
        <p><i>¬© 2025 - Blog L·∫≠p Tr√¨nh M·∫°ng v·ªõi Java</i></p>
    </footer>
</body>
</html>
